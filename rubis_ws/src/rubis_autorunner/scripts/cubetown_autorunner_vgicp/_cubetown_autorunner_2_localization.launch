<launch>
  <!-- cubetown -->
  <arg name="init_x" value="57.1" />
  <arg name="init_y" value="1.38" />
  <arg name="init_z" value="0.48" />
  <arg name="init_roll" value="0.0" />
  <arg name="init_pitch" value="0.0" />
  <arg name="init_yaw" value="1.57" />

  <!-- vel/pose connect -->
  <arg name="topic_pose_stamped" default="/gicp_pose" />
  <arg name="topic_twist_stamped" default="/gicp_vel" /> 
  <!-- <arg name="topic_twist_stamped" default="/odom_twist" /> -->

  <!-- points downsampler -->
  <include file="$(find points_downsampler)/launch/voxel_grid_filter_params.launch" />

  <arg name="base_frame" default="base_link" doc="Vehicle reference frame" />
  <arg name="resolution" default="2.0" doc="The ND voxel grid resolution" />
  <arg name="numthreads" default="4" doc="vgicp threads num" />
  <arg name="leafsize" default="0.05" doc="point map downsample leafsize" />

  <node pkg="gicp_localizer" type="gicp_localizer_node" name="gicp_localizer_node">
    <param name="init_x" value="$(arg init_x)" />
    <param name="init_y" value="$(arg init_y)" />
    <param name="init_z" value="$(arg init_z)" />
    <param name="init_roll" value="$(arg init_roll)" />
    <param name="init_pitch" value="$(arg init_pitch)" />
    <param name="init_yaw" value="$(arg init_yaw)" />

    <param name="resolution" value="$(arg resolution)" />
    <param name="numthreads" value="$(arg numthreads)" />
    <param name="leafsize" value="$(arg leafsize)" />
  </node>

  <!-- vel_pose_mux -->
  <include file="$(find rubis_pkg)/launch/vel_pose_connect_params.launch">
    <arg name="topic_pose_stamped" value="$(arg topic_pose_stamped)" />
    <arg name="topic_twist_stamped" value="$(arg topic_twist_stamped)" />
  </include>

</launch>
